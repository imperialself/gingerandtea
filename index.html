<!DOCTYPE html>
<html>
<head>
  <title>Kev's Test Store</title>
  <link rel="stylesheet" href="stylesheet.css">
  <script
    id="fsc-api"
    src="https://d1f8f9xcsvx3ha.cloudfront.net/sbl/0.7.6/fastspring-builder.min.js"
    type="text/javascript"
    data-popup-closed="onPopupClose"
    data-storefront="gntea.test.onfastspring.com/popup-gntea">
  </script>
</head>

<body>
<div class="grid-container">
  <div class="header-left"></div>
  <div class="header-right"></div>
  <div class="header">
  <span style="float: left; font-size: 24px">Ginger + Tea, a tea store</span>
  <span style="float: right;" ><a href="#" data-fsc-action="Checkout" style="color: black">Checkout - <span data-fsc-order-total></span></a></span>
  </div>
  <div class="product-details-1">
    <table>
      <tbody>
        <tr>
          <td>
            <img src="https://draxe.com/wp-content/uploads/2018/02/GingerTea_Header.jpg" width="200px">
          </td>
          <td>
            <div>
            <span>Ginger Tea - $5</span>
            <a href="#" data-fsc-item-path-value="ginger-tea" data-fsc-action="Add" data-fsc-item-path="ginger-tea" data-fsc-item-selection-smartdisplay-inverse>Add to cart</a>
            <a href="#" data-fsc-item-path-value="ginger-tea" data-fsc-action="Remove" data-fsc-item-path="ginger-tea" data-fsc-item-selection-smartdisplay>Remove from Cart</a>
            <select data-fsc-item-quantity-value data-fsc-item-quantity data-fsc-item-path-value="ginger-tea" data-fsc-item-path="ginger-tea" data-fsc-action="Update" data-fsc-item-selection-smartdisplay style="width:50px;">
              <option value='1'>1</option>
              <option value='2'>2</option>
              <option value='3'>3</option>
              <option value='4'>4</option>
              <option value='5'>5</option>
              <option value='6'>6</option>
              <option value='7'>7</option>
              <option value='8'>8</option>
              <option value='9'>9</option>
            </select>
            </div>
          </td>
        </tr>
       </tbody>
    </table>
  </div>
  <div class="product-details-2">
    <table>
      <tbody>
        <tr>
          <td>
            <img src="https://naturallydaily.com/wp-content/uploads/2016/11/Oolong-Tea.jpg" width="200px">
          </td>
          <td>
            <div>
            <span>Oolong Tea - $4</span>
            <a href="#" data-fsc-item-path-value="oolong-tea" data-fsc-action="Add" data-fsc-item-path="oolong-tea" data-fsc-item-selection-smartdisplay-inverse>Add to cart</a>
            <a href="#" data-fsc-item-path-value="oolong-tea" data-fsc-action="Remove" data-fsc-item-path="oolong-tea" data-fsc-item-selection-smartdisplay>Remove from Cart</a>
            <select data-fsc-item-quantity-value data-fsc-item-quantity data-fsc-item-path-value="oolong-tea" data-fsc-item-path="oolong-tea" data-fsc-action="Update" data-fsc-item-selection-smartdisplay style="width:50px;">
              <option value='1'>1</option>
              <option value='2'>2</option>
              <option value='3'>3</option>
              <option value='4'>4</option>
              <option value='5'>5</option>
              <option value='6'>6</option>
              <option value='7'>7</option>
              <option value='8'>8</option>
              <option value='9'>9</option>
            </select>
            </div>
          </td>
        </tr>
       </tbody>
    </table>
  </div>
  <div class="product-details-3">
    <table>
      <tbody>
        <tr>
          <td>
            <img src="http://www.herbalteasonline.com/wp-content/uploads/2016/01/Earl-Grey-Tea.jpg" width="200px">
          </td>
          <td>
            <div>
            <span>Earl Grey Tea - $6</span>
            <a href="#" data-fsc-item-path-value="earl-grey-tea" data-fsc-action="Add" data-fsc-item-path="earl-grey-tea" data-fsc-item-selection-smartdisplay-inverse>Add to cart</a>
            <a href="#" data-fsc-item-path-value="earl-grey-tea" data-fsc-action="Remove" data-fsc-item-path="earl-grey-tea" data-fsc-item-selection-smartdisplay>Remove from Cart</a>
            <select data-fsc-item-quantity-value data-fsc-item-quantity data-fsc-item-path-value="earl-grey-tea" data-fsc-item-path="earl-grey-tea" data-fsc-action="Update" data-fsc-item-selection-smartdisplay style="width:50px;">
              <option value='1'>1</option>
              <option value='2'>2</option>
              <option value='3'>3</option>
              <option value='4'>4</option>
              <option value='5'>5</option>
              <option value='6'>6</option>
              <option value='7'>7</option>
              <option value='8'>8</option>
              <option value='9'>9</option>
            </select>
            </div>
          </td>
        </tr>
       </tbody>
    </table>
  </div>
</div>

<div class="footer" style="padding: 7px">
  <span>Made with &hearts; by Kevin &bull; <a href="https://github.com/imperialself/gingerandtea">Github</a></span>
</div>

<script>
    function onFSPopupClosed(orderReference) {
      if (orderReference)
      {
           console.log(orderReference.reference);
           fastspring.builder.reset();
           window.location.replace("http://gingerandtea.com/thanks.html?orderId=" + orderReference.reference);
      } else {
           console.log("no order ID");
    }
    }
</script>

<script>
const getMyShit = () => {
  const order = orderReference;
  const url = 'https://cors-anywhere.herokuapp.com/https://api.fastspring.com/company/gingerandtea/order/'
  const endpoint = `${url}${order}`;
  
  const xhr = new XMLHttpRequest();

  xhr.onreadystatechange = () => {
    if (xhr.readyState === XMLHttpRequest.DONE) {
      console.log(xhr.response);
    }
  }
  
  xhr.open('GET', endpoint);
  xhr.setRequestHeader('Authorization', 'Basic WERZTVVGSENUTVNZV0haQ0lORk5GQTpxMm12ZWJ1UVRUYWk3ekZoMm9wdmZR') //using the base64 hash for now
  xhr.send();
}
</script>

</body>
</html>